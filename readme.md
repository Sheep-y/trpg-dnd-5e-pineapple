Sheepy 的菠蘿包
==============

需 ES6 支援。不需伺服器。可直接用火狐執行（其他瀏覽器尚未實作所需功能)。

目前正從原型過渡到開發型,實作和具體架構依然在頻密改動。 <br/>
此簡易說明使用中文純為打擊英語人仕的參與意慾。正規文檔和源碼嚴格劃一採用英語。

速成導覽
-------

此導覽不能取代實際閱讀源碼。程序複雜緊緻，閱讀源碼需要專業的編程能力。 <br/>
doc 檔案夾下有物件架構圖，rulｅ 和 runtime 部分已大致定案。

角色由規則 Rule 組成。構件有兩種，頂層為 dd5.res 自動收錄的資源 Resourse，資源又包含其他資源或實際做事的子規則 Subrule。 <br/>
dd5.loader 負責將規則字串初步拆解成選項物件(資料也可以直接提供選項物件)，然後創建所被定義的資源。 <br/>
資源的細節，例如調整值的項目和量，會保持字串型態被 compile_property 封裝成自組譯的函數。 <br/>
資源是靜態的，戴入後應該只會自組譯而不會改變。動態物件(例如編輯中的角色)需要 1:1 繼承相應規則。

程序開始時會呼叫主程序 pinbun，主程序戴入完規則後會創造角色並初始化角色建構介面。 <br/>
角色的狀態主要經由查詢實現。例如 pinbun.ui.activeCharacter.queryChar('str_chk') 可以獲得目前角色的力量檢定加值，或者查詢 "prof$language" 可以獲得所有通曉語言。 <br/>
所有規則元素都要用 query_hook 宣佈自己所響應的查詢，由角色物件記錄著。 <br/>
查詢系統將會是本程序的核心，穩定後將需要詳細文檔，但目前尚未成熟。

介面 pinbun.ui 和 dd5.ui 會監聽角色或角色元素的屬性和結構事件，藉以部分或完整刷新。為了效率，這些事件都是緩存了再延後觸發的。 <br/>
由於角色模型尚未成熟，目前的介面是原型狀態，不穩定和有很多不足。